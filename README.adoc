= Low-Latency Performance Workshop for OpenShift 4.19

== Introduction

This repository hosts the comprehensive lab guide for the **Low-Latency Performance Workshop**, designed to teach OpenShift 4.19 performance optimization through hands-on exercises using modern tooling and GitOps practices.

The workshop can be delivered by Red Hat Associates, partners, and community members to customers and interested parties worldwide.

It is designed to work with the Showroom lab environment provided by the Red Hat Demo Platform (RHDP) team, as well as customer environments and self-paced learning scenarios.

This workshop provides hands-on experience with **low-latency performance optimization** in OpenShift 4.19, covering everything from baseline performance testing to advanced virtualization optimization.

**Low-latency performance optimization** enables organizations to achieve deterministic, predictable performance for time-sensitive workloads such as financial trading systems, industrial automation, telecommunications, and real-time analytics.

In this workshop, participants will explore comprehensive performance optimization techniques that platform engineers, SREs, and performance specialists encounter when building and maintaining high-performance OpenShift environments.

== Who Will Benefit Most from This Workshop?

**Platform Engineers & SREs** -- Those responsible for designing, deploying, and maintaining OpenShift clusters that require predictable, low-latency performance. These professionals need to understand CPU isolation, memory optimization, and performance monitoring to meet strict SLA requirements.

**Performance Specialists** -- Those responsible for optimizing application performance and conducting performance testing in containerized and virtualized environments. These users need expertise in performance profiling, bottleneck identification, and optimization validation.

**DevOps Engineers** -- Those implementing GitOps workflows for performance-critical applications and infrastructure. These professionals need to understand how to deploy and manage performance optimizations through automated pipelines.

**Solutions Architects** -- Those designing OpenShift solutions for performance-sensitive use cases. These users need to understand the trade-offs and capabilities of different performance optimization approaches.
== What Content Is Covered In The Workshop?

The workshop consists of **6 comprehensive modules** that build upon each other to provide complete low-latency performance optimization expertise:

**Module 1: Low-Latency Performance Fundamentals** -- Introduction to low-latency concepts, OpenShift 4.19 performance features, workshop architecture, and prerequisites. Participants learn the theoretical foundation and prepare their environment.

**Module 2: RHACM and ArgoCD Integration Setup** -- Hands-on setup of Red Hat Advanced Cluster Management and GitOps workflows using ArgoCD. Participants deploy OpenShift Virtualization and SR-IOV operators using modern GitOps practices.

**Module 3: Baseline Performance Testing** -- Comprehensive performance baseline establishment using kube-burner v1.17+. Participants learn modern performance testing methodologies and establish measurable baselines for optimization comparison.

**Module 4: Core Performance Tuning** -- Deep dive into Performance Profiles, CPU isolation, HugePages configuration, and real-time kernel optimization. Participants apply and validate core performance optimizations.

**Module 5: Low-Latency Virtualization** -- Advanced virtual machine optimization using OpenShift Virtualization, including VMI latency testing, SR-IOV networking, and network policy performance analysis. Participants optimize VMs for low-latency workloads.

**Module 6: Monitoring and Validation** -- Production-ready monitoring setup with Prometheus and Grafana, comprehensive performance validation across all optimization types, and continuous performance testing implementation. Participants establish sustainable performance assurance practices.
== Technology Stack and Version Information

This edition of the **Low-Latency Performance Workshop** has been developed and tested with the following software versions:

* **OpenShift Container Platform**: 4.19+
* **Red Hat Advanced Cluster Management (RHACM)**: 2.10+
* **OpenShift GitOps (ArgoCD)**: 1.12+
* **OpenShift Virtualization**: 4.19+
* **SR-IOV Network Operator**: 4.19+
* **Node Tuning Operator**: Built-in to OpenShift 4.19+
* **kube-burner**: 1.17+ (performance testing tool)
* **Prometheus**: 2.45+ (monitoring and metrics)
* **Grafana**: 10.0+ (visualization and dashboards)

== Workshop Architecture

The workshop uses a **GitOps-first approach** with the following architecture:

* **Hub Cluster**: RHACM and ArgoCD for multi-cluster management
* **Target Clusters**: OpenShift 4.19 clusters with performance optimizations
* **Performance Testing**: Modern kube-burner configurations with structured metrics
* **Monitoring Stack**: Prometheus, Grafana, and Alertmanager integration
* **Environment**: AWS-based with `*.dynamic.redhatworkshops.io` domain pattern

== Key Learning Outcomes

Upon completion of this workshop, participants will be able to:

* **Establish performance baselines** using modern testing methodologies
* **Apply CPU isolation and HugePages** for deterministic performance
* **Optimize virtual machines** for low-latency workloads
* **Implement comprehensive monitoring** for performance assurance
* **Deploy optimizations via GitOps** for reproducible environments
* **Validate performance improvements** with quantitative measurements
* **Troubleshoot performance issues** using systematic approaches

== Repository Structure

```
low-latency-performance-workshop/
├── content/                          # Workshop documentation
│   ├── modules/ROOT/pages/          # Module content (AsciiDoc)
│   ├── antora.yml                   # Antora configuration
│   └── lib/                         # Extensions and utilities
├── gitops/                          # GitOps configurations
│   ├── kube-burner-configs/         # Performance testing configs
│   ├── openshift-virtualization/    # CNV deployment configs
│   └── sriov-network-operator/      # SR-IOV deployment configs
├── docs/                            # Additional documentation
│   └── adr/                         # Architecture Decision Records
├── workshop-scripts/                # Deployment automation
│   ├── provision-workshop.sh       # Main provisioning script
│   ├── destroy-workshop.sh         # Cleanup script
│   └── helpers/                    # Helper scripts
├── DEVELOPER_GUIDE.md               # Developer and instructor guide
├── ENVIRONMENT_CONFIG.md            # Environment configuration reference
└── README.adoc                      # This file
```

== Getting Started

=== For Workshop Participants

1. **Access your workshop environment** using the provided GUID
2. **SSH to your bastion host**: `ssh ec2-user@bastion.{guid}.dynamic.redhatworkshops.io`
3. **Follow the workshop modules** starting with Module 1
4. **Complete hands-on exercises** in each module
5. **Validate your progress** using provided testing tools

=== For Workshop Instructors

1. **Review the DEVELOPER_GUIDE.md** for comprehensive setup instructions
2. **Configure workshop environment** using ENVIRONMENT_CONFIG.md
3. **Validate environment setup** using provided validation scripts
4. **Customize content** for your specific audience if needed
5. **Deploy workshop infrastructure** using GitOps configurations

=== For Contributors

1. **Fork the repository** and create a feature branch
2. **Follow AsciiDoc style guidelines** in DEVELOPER_GUIDE.md
3. **Test changes** with actual workshop environment
4. **Submit pull requests** with clear descriptions
5. **Update documentation** as needed

== Workshop Deployment (Quick Start)

=== Prerequisites

Before deploying, ensure you have:

* Logged into hub cluster: `oc login <hub-api-url>`
* AWS credentials configured: `~/secrets-ec2.yml`
* AgnosticD cloned: `~/agnosticd`
* Pull secret available: `~/pull-secret.json`

=== Common Tasks (Using Makefile)

[cols="2,3"]
|===
| Task | Command

| Deploy 1 user (testing)
| `make provision-single`

| Deploy 5 users
| `make provision USERS=5`

| Deploy users 6-10 (incremental)
| `make provision USERS=10 START_USER=6`

| Destroy all resources
| `make destroy`

| Check available commands
| `make help`

| List AWS VPCs
| `make list-vpcs`

| Force cleanup stuck VPC
| `make cleanup-vpc VPC_ID=vpc-xxx`
|===

=== After Deployment

[source,bash]
----
# Check SNO cluster status
oc get managedclusters

# Login to user's SNO cluster
oc login https://api.workshop-user1.<subdomain>:6443 -u user1 -p <password>

# Find deployment outputs
ls ~/agnosticd-output/workshop-user1/
----

=== Expected Output (RHPDS Deployment)

After successful deployment via RHPDS, each user will have:

**Per-User Resources:**
[cols="1,2"]
|===
| Resource | Description

| SNO Cluster
| Single Node OpenShift on AWS (workshop-userX)

| Hub Namespace
| `workshop-userX` namespace on hub cluster

| Dev Spaces Namespace
| `userX-devspaces` for IDE workspace

| ManagedCluster
| RHACM-managed cluster entry

| Workshop User
| `userX` with cluster-admin on their SNO
|===

**Output Files (per user):**
----
~/agnosticd-output/workshop-userX/
├── kubeconfig                              # SNO cluster access
├── ssh_provision_workshop-userX            # SSH private key
├── ssh_provision_workshop-userX.pub        # SSH public key
├── low-latency-workshop-sno_..._kubeadmin-password
├── deployment-summary.txt                  # Deployment details
└── provision-user-info.yaml                # User connection info
----

**Installed Operators (on each SNO):**

* OpenShift Virtualization
* SR-IOV Network Operator
* Node Tuning Operator (built-in)

**Estimated Deployment Time:**

* Single user: ~45-90 minutes
* Multiple users (sequential): N users x ~60 minutes

**Personalized Workshop Guide:**

Each user gets a customized documentation site with their specific cluster information pre-filled:

* URL: `https://docs-userX.apps.<hub-cluster-domain>`
* Contains: SNO API URL, Console URL, Bastion hostname
* Auto-updated: Rebuilds when repository is updated

For detailed deployment instructions, see link:workshop-scripts/README.md[Workshop Scripts README].

== Support and Community

* **GitHub Issues**: Report bugs and request features
* **Documentation**: Comprehensive guides in DEVELOPER_GUIDE.md
* **Community**: Engage with OpenShift and performance optimization communities
* **Red Hat Support**: Available for Red Hat customers and partners

== License

This workshop content is provided under the Apache 2.0 license. See LICENSE file for details.

---

**Workshop Version**: OpenShift 4.19
**Last Updated**: Septempber 2025
**Maintained by**: Red Hat RTO